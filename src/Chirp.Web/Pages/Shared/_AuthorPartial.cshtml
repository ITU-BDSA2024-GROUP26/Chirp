@inject SignInManager<Chirp.Core.Entities.Author> SignInManager 
@inject UserManager<Chirp.Core.Entities.Author> UserManager
@using Chirp.Core.DTOs
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

@{
    var user = await UserManager.GetUserAsync(User);
}

@model CheepDTO; //we pass the cheepDTO here

<p >
    <strong>
        <a href="/@Model.AuthorName">@Model.AuthorName</a>
    </strong>
    @if (SignInManager.IsSignedIn(User))
    {
        <form method="post" asp-page-handler="Follow">
            <input type="hidden" name="UsrnmToFollow" value="@Model.AuthorName" />
            <button type="submit" class="btn btn-primary">Follow</button>
        </form>
    }
</p>
